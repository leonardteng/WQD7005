setwd("C:/Users/Leonard Teng/Desktop/WQD 7005/Assignment/Assignment 3/Submission/Data mining Assignment 3/dataset/time series crawled data")
library(dplyr)
file_list <- (list.files(pattern = "stock_2019"))
file_list
for (file in file_list){
readfile <- read.delim(file, sep = "|", header = FALSE)
names(readfile) <- c("code","name","ref","open","last","change","change_perc","volume")
readfile <- readfile[!grepl("-", readfile$name),]
date <- basename(file) %>% strsplit(split = "_") %>% sapply( "[", 2 )
date <- strsplit(date, split = "[.]")[[1]][[1]]
readfile <- readfile %>% mutate(date = date)
var_file <- strsplit(file, "[.]")[[1]][[1]]
filee <-
assign(
var_file, readfile)
}
View(stock_20190314)
View(stock_20190314)
all_days <- do.call(rbind, lapply( ls(patt="stock_2019"), get)) %>% arrange(name)
all_days
ls(patt="stock_2019"), get)
lapply( ls(patt="stock_2019"), get)
for (stock in all_days$name) {
price <- all_days %>% filter(name == stock) %>% select(last)
names(price ) <- stock
var_price <- paste("price_", stock, sep = "")
price_table <-
assign(var_price, price)
}
View(price_PAVREIT)
View(price_PAVREIT)
library(corpcor)
library(tseries)
library(quantmod)
aapl = getSymbols("AAPL",type="xts")
cbs = getSymbols("CBS",type="xts")
efx = getSymbols("EFX",type="xts")
googl = getSymbols("GOOGL",type="xts")
vz = getSymbols("VZ",type="xts")
aapl=data.frame(tail(AAPL$AAPL.Close,30))
cbs=data.frame(tail(CBS$CBS.Close,30))
efx=data.frame(tail(EFX$EFX.Close,30))
googl=data.frame(tail(GOOGL$GOOGL.Close,30))
vz=data.frame(tail(VZ$VZ.Close,30))
View(aapl)
View(aapl)
aapl<-diff(log(aapl$AAPL.Close),1)
aapl<-diff(log(aapl$AAPL.Close),1)
aapl = getSymbols("AAPL",type="xts")
aapl=data.frame(tail(AAPL$AAPL.Close,30))
aapl<-diff(log(aapl$AAPL.Close),1)
aapl = getSymbols("AAPL",type="xts")
aapl=data.frame(tail(AAPL$AAPL.Close,30))
View(aapl)
View(aapl)
View(price_ACOSTEC)
View(price_ACOSTEC)
View(price_AASIA)
View(price_AASIA)
for (variable_price in (ls(patt="price_"))){
variable_price <- diff(log(variable_price[,1]),1)
}
View(price_AASIA)
View(price_AASIA)
View(price_ABFMY1)
View(price_ABFMY1)
View(aapl)
View(aapl)
for (variable_price in (ls(patt="price_"))){
variable_price <- diff(log(variable_price[,1]),1)
}
# http://www.michaeljgrogan.com/variance-covariance-matrix-calculation-r/
library(dplyr)
file_list <- (list.files(pattern = "stock_2019"))
file_list
for (file in file_list){
readfile <- read.delim(file, sep = "|", header = FALSE)
names(readfile) <- c("code","name","ref","open","last","change","change_perc","volume")
readfile <- readfile[!grepl("-", readfile$name),]
date <- basename(file) %>% strsplit(split = "_") %>% sapply( "[", 2 )
date <- strsplit(date, split = "[.]")[[1]][[1]]
readfile <- readfile %>% mutate(date = date)
var_file <- strsplit(file, "[.]")[[1]][[1]]
filee <-
assign(
var_file, readfile)
}
all_days <- do.call(rbind, lapply( ls(patt="stock_2019"), get)) %>% arrange(name)
all_days
for (stock in all_days$name) {
price <- all_days %>% filter(name == stock) %>% select(last)
names(price ) <- stock
var_price <- paste("price_", stock, sep = "")
price_table <-
assign(var_price, price)
}
View(price_3A)
View(price_3A)
for (variable_price in (ls(patt="price_"))){
variable_price <- diff(log(variable_price[,1]),1)
}
for (variable_price in (ls(patt="price_"))){
variable_price <- diff(log(variable_price),1)
}
for (variable_price in (ls(patt="price_"))){
variable_price <- diff(log(variable_price[,1]),1)
}
View(price_AAX)
View(price_AAX)
for (variable_price in (ls(patt="price_"))){
variable_price <- diff(log(variable_price[,1]),1)
}
#rm(price_CCMDBIO, price_CLIQ, price_DRBHCOMC65,price_DRBHCOMC74,price_DRBHCOMC75,
#   price_DWL, price_MEDAINC, price_MERIDIAN, price_MYSCM, price_SGB, price_table, price_MALAKOFC22, price_MAYBANKC45,
#   price_PANPAGE,price_SAPNRGC76, price_MMCCORPC12, price_ETH,price_MALAKOFC14,price_DPHARMA)
price_3A <- diff(log(price_3A[,1]),1)
price_AASIA <- diff(log(price_AASIA[,1]),1)
portfolio <- data.frame(price_3A, price_AASIA)
View(portfolio)
View(portfolio)
